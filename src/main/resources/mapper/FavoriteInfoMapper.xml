<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qf.travel.mapper.FavoriteInfoMapper">
    <resultMap id="BaseResultMap" type="com.qf.travel.pojo.FavoriteInfo"
               extends="com.qf.travel.mapper.IndexInfoMapperext.BaseResultMap">

        <result column="id" property="id" />
        <result column="user_id"  property="user_id" />

    </resultMap>

    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        /* a.id,a.username, a.password, a.phone, a.email, a.is_role, a.flag,b.price*/
        a.id,a.address,a.phone,a.address,b.introduce,b.order_type,b.photo_src,b.price,b.product_id,c.user_id,c.id
    </sql>
    <select id="findByFavorite" parameterType="int" resultType="com.qf.travel.pojo.FavoriteInfo">

        select
        <include refid="Base_Column_List" />

        from t_address a,t_attractions b,t_favorite c where a.id=c.id and b.id=c.id and c.user_id=#{id};
    </select>


    <select id="addByFavorite" parameterType="com.qf.travel.pojo.FavoriteInfo" resultType="com.qf.travel.pojo.FavoriteInfo">
        insert into t_favorite(user_id,id) values(#{user_id},#{id})
    </select>

    <select id="deleteFavorite" parameterType="com.qf.travel.pojo.FavoriteInfo" resultType="Integer">
        delete from t_favorite where user_id=#{user_id} and id=#{id};
    </select>

    <select id="selectFavorite" parameterType="com.qf.travel.pojo.FavoriteInfo" resultType="com.qf.travel.pojo.FavoriteInfo">
        select * from t_favorite where user_id=#{user_id} and id=#{id};
    </select>



</mapper>